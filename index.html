<!DOCTYPE html>
<html>
<head>
    <title>STEAM Project</title>
    <script src="https://unpkg.com/blockly/blockly.min.js"></script>
    <script src="blockly_compressed.js"></script>
    <script src="blocks_compressed.js"></script>
    <script src="msg/js/en.js"></script>
    <script src="index.js"></script>
    <link rel="stylesheet" href="index.css">
    <script>
      Blockly.Blocks['string_length'] = {
  init: function() {
    this.appendValueInput('VALUE')
        .setCheck('String')
        .appendField('length of');
    this.setOutput(true, 'Number');
    this.setColour(160);
    this.setTooltip('Returns number of letters in the provided text.');
    this.setHelpUrl('http://www.w3schools.com/jsref/jsref_length_string.asp');
  }
}

Blockly.JavaScript['text_length'] = function(block) {
  // String or array length.
  var argument0 = Blockly.JavaScript.valueToCode(block, 'VALUE',
      Blockly.JavaScript.ORDER_FUNCTION_CALL) || '\'\'';
  return [argument0 + '.length', Blockly.JavaScript.ORDER_MEMBER];
};
  </script>
    <script>
      //Body type block
    Blockly.Blocks['bodyblock_type'] = {
      init: function() {
        this.appendStatementInput("STRING")
        .setCheck(null)
        .appendField("Body Shape")
        .appendField(new Blockly.FieldDropdown([["Small","sm_body"], ["Medium","sm_body"], ["Large","sm_body"]]), "body_shapes");
    this.setColour(135);
 this.setTooltip("");
 this.setHelpUrl("");
 Blockly.JavaScript['bodyblock_type'] = function(block) {
  var dropdown_body_shapes = block.getFieldValue('body_shapes');
  var statements_string = Blockly.JavaScript.statementToCode(block, 'STRING');
  // TODO: Assemble JavaScript into code variable.
  var code = Blockly.JavaScript.valueToCode(block, 'STRING',
        Blockly.JavaScript.ORDER_FUNCTION_CALL)|| '\'\'';
  return [code +'type', Blockly.JavaScript.ORDER_MEMBER];
};
  }
};

//boy/girl block
Blockly.Blocks['bgenderblock_type'] = {
  init: function() {
    this.appendStatementInput("Boy Alien")
        .setCheck(null)
        .appendField("Boy Alien");
    this.setColour(230);
 this.setTooltip("");
 this.setHelpUrl("");
  }
};
Blockly.JavaScript['bgenderblock_type'] = function(block) {
  var statements_boy_alien = Blockly.JavaScript.statementToCode(block, 'Boy Alien');
  // TODO: Assemble JavaScript into code variable.
  var code = Blockly.JavaScript.valueToCode(block, 'Boy Alien',
    Blockly.JavaScript.ORDER_FUNCTION_CALL)||'\'\'';
  return code [code + 'type', Blockly.JavaScript.ORDER_MEMBER];
};

//girl block
Blockly.Blocks['ggenderblock_type'] = {
  init: function() {
    this.appendStatementInput("Girl Alien")
        .setCheck(null)
        .appendField("Girl Alien");
    this.setColour(290);
 this.setTooltip("");
 this.setHelpUrl("");
  }
};
Blockly.JavaScript['ggenderblock_type'] = function(block) {
  var statements_girl_alien = Blockly.JavaScript.statementToCode(block, 'Girl Alien');
  // TODO: Assemble JavaScript into code variable.
  var code = Blockly.JavaScript.valueToCode(block, 'Girl Alien',
    Blockly.JavaScript.ORDER_FUNCTION_CALL)||'\'\'';
  return code[code + 'type', Blockly.JavaScript.ORDER_MEMBER];
};
Blockly.Themes.Halloween = Blockly.Theme.defineTheme('theme_dark', {
  'base': Blockly.Themes.Classic,
    'componentStyles': {
      'workspaceBackgroundColour': '#1e1e1e',
      'toolboxBackgroundColour': 'blackBackground',
      'toolboxForegroundColour': '#fff',
      'flyoutBackgroundColour': '#252526',
      'flyoutForegroundColour': '#ccc',
      'flyoutOpacity': 1,
      'scrollbarColour': '#797979',
      'insertionMarkerColour': '#fff',
      'insertionMarkerOpacity': 0.3,
      'scrollbarOpacity': 0.4,
      'cursorColour': '#d0d0d0',
      'blackBackground': '#333',
  }
});
function start() {
    // Create main workspace.
    workspace = Blockly.inject('blocklyDiv',
      {
        toolbox: toolboxCategories,
        theme: Blockly.Themes.Halloween,
      });
 } 
  </script>
   
   
</head>
<header>
 <xml id="toolbox" style="display: none">
    <category name="standard">
    <block type="controls_if"></block>
    <block type="controls_repeat_ext"></block>
    <block type="logic_compare"></block>
    <block type="math_number"></block>
    <block type="math_arithmetic"></block>
    <block type="text"></block>
    <block type="text_print"></block> 

    </category>
    <category name="My Blocks">
      <block type="string_length"></block>
      <block type="bodyblock_type"></block>
      <block type="bgenderblock_type"></block>
      <block type="ggenderblock_type"></block>
    </category>

</xml> 

</header>
<body>
<div id="blocklyDiv" style="height: 500px; width: 50%;"></div>
</body>

<script>
    var workspace = Blockly.inject('blocklyDiv',
        {toolbox: document.getElementById('toolbox')});
  </script>

</html>
