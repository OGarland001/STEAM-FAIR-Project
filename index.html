<!DOCTYPE html>
<html>
<head>
    <title>STEAM Project</title>
    <script src="https://unpkg.com/blockly/blockly.min.js"></script>
    <script src="blockly_compressed.js"></script>
    <script src="blocks_compressed.js"></script>
    <script src="msg/js/en.js"></script>
    <script src="index.js"></script>
    <script src="custom_generator.js"></script>
    <link rel="stylesheet" href="index.css">

    <script>
//hair block type
Blockly.Blocks['hairblock_type'] = {
  init: function() {
    this.appendDummyInput()
        .appendField("Hair Style")
        .appendField(new Blockly.FieldDropdown([["Crazy","crazy_style"], ["Long","long_style"], ["Short","short_style"]]), "Hair_Style")
        .appendField("Hair Colour")
        .appendField(new Blockly.FieldColour("#ff0000"), "hair_colour");
    this.setPreviousStatement(true, null);  
    this.setNextStatement(true, null);
    this.setColour(180);
 this.setTooltip("");
 this.setHelpUrl("");
  }
};
Blockly.JavaScript['hairblock_type'] = function(block) {
  var dropdown_hair_style = block.getFieldValue('Hair_Style');
  var colour_hair_colour = block.getFieldValue('hair_colour');
  // TODO: Assemble JavaScript into code variable.
  var code = Blockly.JavaScript.valueToCode(block, 'Hair_Style',"hair_colour",
    Blockly.JavaScript.ORDER_FUNCTION_CALL)||'\'\'';
  return code[code + 'type', Blockly.JavaScript.ORDER_MEMBER];
};
//Shoe Block
Blockly.Blocks['shoeblock_type'] = {
  init: function() {
    this.appendDummyInput()
        .appendField("Shoes")
        .appendField(new Blockly.FieldDropdown([["Sandals","Sandals_shoe"], ["Running Shoes","running_shoe"], ["Boots","boots_shoe"]]), "shoeoption_block");
    this.setPreviousStatement(true, null);
    this.setNextStatement(true, null);
    this.setColour(345);
 this.setTooltip("");
 this.setHelpUrl("");
  }
};
Blockly.JavaScript['shoeblock_type'] = function(block) {
  var dropdown_shoeoption_block = block.getFieldValue('shoeoption_block');
  // TODO: Assemble JavaScript into code variable.
  var code = Blockly.JavaScript.valueToCode(block, 'shoeoption_block',
    Blockly.JavaScript.ORDER_FUNCTION_CALL)||'\'\'';
  return code[code + 'type', Blockly.JavaScript.ORDER_MEMBER];
};


  </script>
   
   
</head>
<header>
 <xml id="toolbox" style="display: none">
    <category name="Boy Or Girl">
      <block type="bgenderblock_type"></block>
      <block type="ggenderblock_type"></block>
    </category>
    <category name="Body Colour">
      <block type="blockbodycolour_type"></block>
    </category>
    <category name="Head">
      <block type="blockheadshape_type"></block>
      <block type="eyecolourblock_type"></block>
      <block type="hairblock_type"></block>
    </category>
    <category name="Feet">
      <block type="shoeblock_type"></block>
  
   
    </category>
  
</xml> 
<button onclick="runCode()">Run JavaScript</button>
</header>
<body>

<div id="blocklyDiv" style="height: 500px; width: 50%; float: left;"></div>


<!-- boy Design-->
<div id="Aliengen" style="height: 500px; width: 450px; float: left; position: relative;">
  <div id="AlienHead">
    
   <div id="LEYE">
    <div id="eyeglint"></div>
   </div>
   <div id="REYE">
     <div id="eyeglint"></div>
   </div>
   <div>
     <img id="smile" src="unnamed.png">
   </div>
    <div id="AlienLear">
      <div id="Learball"></div>
    </div>
    <div id="AlienRear">
      <div id="Rearball"></div>
    
    </div>
  </div>
  <div id="alienbody">
    <div id="alienLarm"></div>
    <div id="alienRarm"></div>
    <div id="alienRleg"></div>
    <div id="alienLleg"></div>
  </div>
      
  <div id="TAlienHead">
    
    <div id="TLEYE">
     <div id="Teyeglint"></div>
    </div>
    <div id="TREYE">
      <div id="Teyeglint"></div>
    </div>
    <div>
      <img id="Tsmile" src="unnamed.png">
    </div>
     <div id="TAlienLear">
       <div id="TLearball"></div>
     </div>
     <div id="TAlienRear">
       <div id="TRearball"></div>
     
     </div>
</div>

<!-- Girl Design-->
  <div id="GAliengen" style="height: 500px; width: 450px; position: absolute; z-index: 2;">
 
    <div id="GAlienHead">
      <img id="Leyelash" src="eyelas.png">
      <img id="Reyelash" src="eyelas.png">
     <div id="GLEYE">
      
     </div>
     <div id="GREYE">
     </div>
     <div>
       <img id="Gsmile" src="lips.png">
     </div>
      <div id="GAlienLear">
        <div id="GLearball"></div>
      </div>
      <div id="GAlienRear">
        <div id="GRearball"></div>
      
      </div>
      
    </div>
    <div id="Galienbody">
      <div id="GalienLarm"></div>
      <div id="GalienRarm"></div>
      <div id="GalienRleg"></div>
      <div id="GalienLleg"></div>
    </div>

    <div id="TGAlienHead">
      <img id="TLeyelash" src="eyelas.png">
      <img id="TReyelash" src="eyelas.png">
      <div id="TGLEYE">
       <div id="TGeyeglint"></div>
      </div>
      <div id="TGREYE">
        <div id="TGeyeglint"></div>
      </div>
      <div>
        <img id="TGsmile" src="lips.png">
      </div>
       <div id="TGAlienLear">
         <div id="TGLearball"></div>
       </div>
       <div id="TGAlienRear">
         <div id="TGRearball"></div>
       
       </div>
  </div>

</body>
<script>
//boy block

Blockly.Blocks['bgenderblock_type'] = {
 init: function() {
   this.appendStatementInput("Boy Alien")
       .setCheck(null)
       .appendField("Boy Alien");
   this.setColour(230);
this.setTooltip("");
this.setHelpUrl("");
 }
};
Blockly.JavaScript['bgenderblock_type'] = function(block) {
 var statements_boy_alien = Blockly.JavaScript.statementToCode(block, 'Boy Alien');
 function boygender(){
  document.getElementById('Aliengen').style.visibility = 'visible';
document.getElementById('GAliengen').style.visibility = 'hidden';
document.getElementById("GAlienHead").style.backgroundColor = "white";
    document.getElementById("GLearball").style.backgroundColor = "white";
    document.getElementById("GRearball").style.backgroundColor = "white";
    document.getElementById("Galienbody").style.backgroundColor = "white";
    document.getElementById("GAlienHead").style.top = "-1000px";
    document.getElementById("AlienHead").style.top = "98px";
 }
var code = [] + boygender()
return code;
};

// Body Colour Block
Blockly.Blocks['blockbodycolour_type'] = {
  init: function() {
    this.appendDummyInput()
        .appendField("Body Colour")
        .appendField(new Blockly.FieldColour("#ff0000"), "body_colour");
    this.setPreviousStatement(true, null);
    this.setNextStatement(true, null);
    this.setColour(180);
 this.setTooltip("");
 this.setHelpUrl("");
  }
};
Blockly.JavaScript['blockbodycolour_type'] = function(block) {
  var body_colour_var = block.getFieldValue('body_colour');
  // TODO: Assemble JavaScript into code variable.
  function bodycolour(){
    document.getElementById("AlienHead").style.backgroundColor = body_colour_var;
    document.getElementById("Learball").style.backgroundColor = body_colour_var;
    document.getElementById("Rearball").style.backgroundColor = body_colour_var;
    document.getElementById("alienbody").style.backgroundColor = body_colour_var;
    document.getElementById("GLearball").style.backgroundColor = body_colour_var;
    document.getElementById("GRearball").style.backgroundColor = body_colour_var;
    document.getElementById("Galienbody").style.backgroundColor = body_colour_var;
    document.getElementById("GAlienHead").style.backgroundColor = body_colour_var;
    document.getElementById("TAlienHead").style.backgroundColor = "transparent";
    document.getElementById("TLearball").style.backgroundColor = body_colour_var;
    document.getElementById("TRearball").style.backgroundColor = body_colour_var;
    document.getElementById("TAlienHead").style.borderRightColor =body_colour_var;
    document.getElementById("TGLearball").style.backgroundColor = body_colour_var;
    document.getElementById("TGRearball").style.backgroundColor = body_colour_var;
    document.getElementById("TGAlienHead").style.borderRightColor =body_colour_var;
  }
  var code = [] + bodycolour()
  return code;
}
  //eye colour block
Blockly.Blocks['eyecolourblock_type'] = {
  init: function() {
    this.appendDummyInput()
        .appendField("Eye Colour")
        .appendField(new Blockly.FieldColour("#ff0000"), "eye_colour");
    this.setPreviousStatement(true, null);
    this.setNextStatement(true, null);
    this.setColour(180);
 this.setTooltip("");
 this.setHelpUrl("");
  }
};
Blockly.JavaScript['eyecolourblock_type'] = function(block) {
  var colour_eye_colour = block.getFieldValue('eye_colour');
  // TODO: Assemble JavaScript into code variable.
  function eyecolour(){
    document.getElementById("REYE").style.backgroundColor= colour_eye_colour;
  document.getElementById("LEYE").style.backgroundColor= colour_eye_colour;
  document.getElementById("GREYE").style.backgroundColor= colour_eye_colour;
  document.getElementById("GLEYE").style.backgroundColor= colour_eye_colour;
  document.getElementById("TREYE").style.backgroundColor = colour_eye_colour;
  document.getElementById("TLEYE").style.backgroundColor = colour_eye_colour;
  document.getElementById("TGREYE").style.backgroundColor = colour_eye_colour;
  document.getElementById("TGLEYE").style.backgroundColor = colour_eye_colour;
  }
  var code =  [] +eyecolour()
  return code;

}
//girl block
Blockly.Blocks['ggenderblock_type'] = {
  init: function() {
    this.appendStatementInput("Girl Alien")
        .setCheck(null)
        .appendField("Girl Alien");
    this.setColour(290);
 this.setTooltip("");
 this.setHelpUrl("");
  }
};
Blockly.JavaScript['ggenderblock_type'] = function(block) {
  var statements_girl_alien = Blockly.JavaScript.statementToCode(block, 'Girl Alien');
  // TODO: Assemble JavaScript into code variable.
  function girlgender(){
    document.getElementById('GAliengen').style.visibility = 'visible';
  document.getElementById('Aliengen').style.visibility = 'hidden';
  document.getElementById("AlienHead").style.backgroundColor = "white";
    document.getElementById("Learball").style.backgroundColor = "white";
    document.getElementById("Rearball").style.backgroundColor = "white";
    document.getElementById("alienbody").style.backgroundColor = "white";
    document.getElementById("TAlienHead").style.visibility = "hidden";
    document.getElementById("AlienHead").style.top = "-1000px";
    document.getElementById("GAlienHead").style.top = "95px";
  }
  var code = [] +girlgender()
  return code;
};
//Head shape block
Blockly.Blocks['blockheadshape_type'] = {
  init: function() {
    this.appendDummyInput()
        .appendField("Head Shape")
        .appendField(new Blockly.FieldDropdown([["Round Head","round_headoption"], ["Square Head","square_headoption"], ["Triangle Head","triangle_headoption"]]), "alien_headshape");
    this.setInputsInline(false);
    this.setPreviousStatement(true, null);
    this.setNextStatement(true, null);
    this.setColour(180);
 this.setTooltip("");
 this.setHelpUrl("");

  }
};
Blockly.JavaScript['blockheadshape_type'] = function(block) {
  var dropdown_alien_headshape = block.getFieldValue('alien_headshape');
  // TODO: Assemble JavaScript into code variable.
  function head (){
    if (dropdown_alien_headshape === "square_headoption"){

      document.getElementById("AlienHead").style.height="125px";
      document.getElementById("AlienHead").style.left="160px";
      document.getElementById("AlienHead").style.top="95px";
      document.getElementById("AlienHead").style.width="125px";
      document.getElementById("smile").style.left="60px";
      document.getElementById("smile").style.top="35px";
      document.getElementById("AlienHead").style.borderRadius ="0%";
      document.getElementById("AlienLear").style.marginLeft="-39px";
      document.getElementById("AlienLear").style.marginTop="80px";
      document.getElementById("AlienRear").style.marginLeft="-39px";
      document.getElementById("AlienRear").style.marginTop="-250px";
      document.getElementById("REYE").style.left="0px";
      document.getElementById("REYE").style.top="70px";
      document.getElementById("LEYE").style.left="0px";
      document.getElementById("LEYE").style.top="10px";
      document.getElementById("GAlienHead").style.height="125px";
      document.getElementById("GAlienHead").style.width="125px"; 
      document.getElementById("GAlienHead").style.borderRadius ="0%";
      document.getElementById("GAlienHead").style.top="100px";
      document.getElementById("GAlienHead").style.left="160px"; 
      document.getElementById("GAlienLear").style.top="90px";
      document.getElementById("GAlienLear").style.left="-25px";
      document.getElementById("GAlienRear").style.top="-70px";
      document.getElementById("GAlienRear").style.left="-25px"; 
      document.getElementById("Leyelash").style.top="73px";
      document.getElementById("Leyelash").style.left="-15px";
      document.getElementById("Reyelash").style.top="18px";
      document.getElementById("Reyelash").style.left="-15px";
      document.getElementById("Gsmile").style.top="40px";
      document.getElementById("Gsmile").style.left="45px";
      document.getElementById("GREYE").style.left="0px";
      document.getElementById("GREYE").style.top="80px";
      document.getElementById("GLEYE").style.left="0px";
      document.getElementById("GLEYE").style.top="20px";
      document.getElementById("AlienHead").style.visibility = "visible";
      document.getElementById("GAlienHead").style.visibility = "visible";
      document.getElementById("TAlienHead").style.visibility = "hidden";
      document.getElementById("TGAlienHead").style.visibility = "hidden";
    }else if (dropdown_alien_headshape === "round_headoption"){
      document.getElementById("GAlienHead").style.height = "85px"
      document.getElementById("GAlienHead").style.borderRadius ="50%";
      document.getElementById("GAlienHead").style.width = "150px"
      document.getElementById("GAlienHead").style.top="95px";
      document.getElementById("GAlienHead").style.left="153px"; 
      document.getElementById("GAlienLear").style.left = "-25px"
      document.getElementById("GAlienLear").style.top = "50px";
      document.getElementById("GAlienRear").style.top = "-50px";
      document.getElementById("GAlienRear").style.left = "-20px";
      document.getElementById("GLEYE").style.top = "12px"
      document.getElementById("GLEYE").style.left = "25px"
      document.getElementById("GREYE").style.top = "55px"
      document.getElementById("GREYE").style.left = "25px"
      document.getElementById("Leyelash").style.left ="10px";
      document.getElementById("Leyelash").style.top ="45px";
      document.getElementById("Reyelash").style.top ="15px";
      document.getElementById("Reyelash").style.left ="10px";
      document.getElementById("Gsmile").style.left ="75px";
      document.getElementById("Gsmile").style.top ="25px";
      document.getElementById("AlienHead").style.height = "100px"
      document.getElementById("AlienHead").style.borderRadius ="50%";
      document.getElementById("AlienHead").style.width = "150px"
      document.getElementById("AlienHead").style.top="98px";
      document.getElementById("AlienHead").style.left="149px"; 
      document.getElementById("AlienLear").style.marginLeft = "-25px";
      document.getElementById("AlienLear").style.marginTop = "64px";
      document.getElementById("AlienRear").style.marginTop = "-226px";
      document.getElementById("AlienRear").style.marginLeft = "-25px";
      document.getElementById("LEYE").style.top = "10px";
      document.getElementById("LEYE").style.left = "30px";
      document.getElementById("REYE").style.top = "61px";
      document.getElementById("REYE").style.left = "30px";
      document.getElementById("smile").style.left ="80px";
      document.getElementById("smile").style.top ="25px";
      document.getElementById("AlienHead").style.visibility = "visible";
      document.getElementById("GAlienHead").style.visibility = "visible";
      document.getElementById("TAlienHead").style.visibility = "hidden";
      document.getElementById("TGAlienHead").style.visibility = "hidden";
    }else if (dropdown_alien_headshape === "triangle_headoption"){      
      document.getElementById("TAlienHead").style.visibility = "visible";
      document.getElementById("AlienHead").style.visibility = "hidden";
      document.getElementById("TGAlienHead").style.visibility = "visible";
      document.getElementById("GAlienHead").style.visibility = "hidden";
    }
  }
  var code = [] + head()
  return code;
};
 function runCode() {
   window.LoopTrap = 1000;
     Blockly.JavaScript.INFINITE_LOOP_TRAP =
         'if (--window.LoopTrap == 0) throw "Infinite loop.";\n';
     var code = Blockly.JavaScript.workspaceToCode(workspace);
     Blockly.JavaScript.INFINITE_LOOP_TRAP = null;
     try {
       eval(code);
     } catch (e) {
       
     }
   }


</script>
<script>
    var workspace = Blockly.inject('blocklyDiv',
        {toolbox: document.getElementById('toolbox')});
  </script>
</html>

<!--
    //Body type block
    Blockly.Blocks['bodyblock_type'] = {
      init: function() {
        this.appendStatementInput("STRING")
        .setCheck(null)
        .appendField("Body Shape")
        .appendField(new Blockly.FieldDropdown([["Small","sm_body"], ["Medium","sm_body"], ["Large","sm_body"]]), "body_shapes");
    this.setColour(135);
 this.setTooltip("");
 this.setHelpUrl("");
 Blockly.JavaScript['bodyblock_type'] = function(block) {
  var dropdown_body_shapes = block.getFieldValue('body_shapes');
  var statements_string = Blockly.JavaScript.statementToCode(block, 'STRING');
  // TODO: Assemble JavaScript into code variable.
  var code = Blockly.JavaScript.valueToCode(block, 'STRING',
        Blockly.JavaScript.ORDER_FUNCTION_CALL)|| '\'\'';
  return [code +'type', Blockly.JavaScript.ORDER_MEMBER];
};
  }
};
-->
